概述：从输入URL到页面加载完成，发生了什么
DNS （DNS预解析）
TCP
三次握手
HTTP
浏览器缓存机制
http Cache
memory Cache
Service Worker Cache
push cache
文件打包
图片优化
gzip
本地存储
CDN
服务端渲染

从输入URL到页面加载完成，发生了什么？

1. 用户输入baidu.com
2. 浏览器通过DNS，把url解析为IP
3. 和IP地址建立TCP链接 发送HTTP请求
4. 服务器接受请求，查库，读文件等，拼接好返回的HTTP响应
5. 浏览器收到首屏html，开始渲染
6. 解析html为dom
7. 解析css为css-tree
8. dom+css 生成render-tree绘图
9. 加载script的js文件
10. 执行js




前端性能优化
1. 文件获取优化
    1. 加载文件 css js
    2. http协议的细节
    3. 从输入url到页面渲染完毕，发生了什么
    4. 大厂怎么上线前端代码
2. 代码执行优化
    1. 节流 防抖
    2. 重绘 回流
    3. vue react (ssr) 常见优化 代码执行的更少， dom操作的更少
    4. 浏览器是如何工作的





网络协议
1.  ip协议（寻址） 47.95.70.218
2.  ip协议之上， 使用tcp来确保数据的完整有序
    1.  三次握手
    2.  滑动窗口
    3.  慢启动
    4.  挥手。。。
    5.  分包
    6.  重发
3. tcp协议之上，我们使用http协议来作为网页传输的协议（应用层）

udp也是基于ip的，不考虑数据完整和有序，为啥我们还需要udp协议呢
1.  性能
2.  不在乎丢包（直播）
3.  包贼小，不需要分包，只需要重发即可 dns协议


优化策略
1.  长连接
2.  减少文件体积
    1.  js打包压缩
    2.  图片压缩
    3.  gzip
3.  减少文件请求次数
    1. 雪碧图
    2. js，css打包
    3. 缓存控制
    4. 懒加载
4.  减少用户和服务器的距离
    1. cdn
5.  本地存储

http是怎么聊天的
1. 建立链接
    1. 服务器 你在吗
    2. 我在
    3. 那我要给你发数据了
首行资源地址。请求方式。协议般般
http头部key:值
http头部key:值
http头部key:值
空行
body体



长列表优化 移动端
1. 淘宝首页 无限滚动，怎么优化， 加载dom过多，低端安卓就崩了

虚拟列表 模拟滚动条，只保留上下三屏dom， 多的销毁


vue的dom diff做了哪些优化
1. vue中，使用definePropery实际上是能够知道所有数据的修改，知道哪个数据被修改了，
    然后直接去修改dom（vue1就是这么做的）
2. 我么自己做的minivue也是这样，每个数据修改，都知道哪个数据变了，直接修改就行
3. 虚拟dom是什么，数据修改后，我们通过dom diff算出那个数据给修改了 然后再去修改dom
4. 我们有，definePropery为啥还需要虚拟dom



vue1的问题是什么，每个数据都有监听器，watcher太多了 项目庞大之后，尤其明显，
vue2做了这种，watcher只到组件层一个组件只有一个watcher，组件内部，使用dom diff

源码  src/core/vdom/patch.js
updateChildren
// 新老都是数组 由于有些数据可能只是位置变了

vue针对web业务的特点，在数组diff的时候，做了几个小优化
web常见的修改
1. 新增元素
2. 删除元素
3. 倒序排列一个元素

所以每次遍历前，他会猜测一下
1.老的数组排头， 新的数组排头， 如果他俩一样， 直接就进行更新元素的逻辑，而不是数组diff这个元素了
 中间新增一个元素，
2.老的数组排尾，新的数组排尾，如果一样，
3.老数组的派头，新数组的排尾
4.老数组的排尾，新数组的排头

4波猜测对比，如果猜中，缩小遍历的范围
上面都没中，那就只能走遍历的逻辑




1. DNS预解析
<meta http-equiv="x-dns-prefetch-control" content="on" />
<link rel="dns-prefetch" href="//img.alicdn.com">


2. cdn

3. 缓存
强缓存 协商缓存

4. 节流 防抖

5. 懒加载
